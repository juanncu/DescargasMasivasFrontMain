<main class="main-container">
  <div class="acciones-superiores">
    <button routerLink="/main" class="btn-regresar">
      üè† | Descargar nuevos folios
    </button>
  </div>

  <h2 class="titulo">Historial de descargas</h2>

  <div class="max-w-7xl mx-auto space-y-4">
    <div *ngFor="let d of historial" class="item">
      
      <div class="info-izquierda">
        <span class="fecha">{{ d.fechaLabel || 'Reciente' }}</span>
        <div class="sub-info">
          <strong class="delegacion">Delegaci√≥n {{ d.delegacion }}</strong>, 
          <span class="archivos">{{ d.archivos }} archivos</span>
        </div>
        <span class="mes">Mes: {{ d.mes }}</span>
      </div>

      <div class="ruta hidden lg:block">
        Ruta: {{ d.rutaRed || 'C:\\Descargas\\Procesando...' }}
      </div>

      <div class="info-derecha">
        
        <div [ngClass]="['estado', d.estado]">
          <span *ngIf="d.estado === 'completado'">‚úì Completado</span>
          <span *ngIf="d.estado === 'pendiente'" class="animate-pulse">‚è≥ Pendiente</span>
          <span *ngIf="d.estado === 'error'">‚ö† Error</span>
        </div>

        <div class="flex items-center gap-4">
          <span class="tamanio">{{ d.tamanio }}</span>
          <button class="btn-detalle" [routerLink]="['/detalle-descarga', d.id]">
            <span style="font-size: 20px;">üëÅ</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</main>