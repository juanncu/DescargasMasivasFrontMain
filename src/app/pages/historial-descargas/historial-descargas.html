<div class="main-container">
  <h2 class="titulo-historial">HISTORIAL DE DESCARGAS</h2>

  <div class="historial-list">
    <div *ngFor="let d of historial" class="item-card">
      
      <div class="info-main">
        <span class="fecha-label">Se descargó: <strong>Hoy</strong></span>
        <span class="meta-data">Delegación: <strong>{{ d.delegacion }}</strong></span>
        
        <span class="meta-data">
          Periodo: <strong>{{ d.mesInicio }} - {{ d.mesFinal }}</strong> 
          Año: <strong>{{ d.anio }}</strong>
        </span>

        <div class="filtros-tags">
          <span class="tag-formato" *ngFor="let f of d.formatos">
            <mat-icon>insert_drive_file</mat-icon> {{ f }}
          </span>
          
          <span class="tag-padron">
            <mat-icon>folder_shared</mat-icon> {{ d.padron }}
          </span>
          
          <span class="tag-estado">
            <mat-icon>filter_alt</mat-icon> {{ d.estadoFiltro }}
          </span>
        </div>
      </div>

      <div class="ruta-red">
        {{ d.rutaRed || 'C:\\Recibos\\' + d.delegacion + '\\Folios_' + d.id }}
      </div>

      <div class="info-status">
        <div class="estado-badge" [ngClass]="d.estado?.toLowerCase()">
          {{ d.estado | uppercase }}
        </div>
        <span class="tamanio-text">{{ d.tamanio }}</span>
       <button class="btn-view" (click)="verDetalle(d.id)">
          <mat-icon>visibility</mat-icon>
        </button>
      </div>

    </div>
  </div>
</div>